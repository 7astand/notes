set( LIB_NAME demolib )

set( EXE_NAME demo )

include_directories(${PROJECT_INCLUDE_DIR})

file( GLOB_RECURSE HEADERS ${PROJECT_INCLUDE_DIR}/*.h )

file( GLOB_RECURSE SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/*.cpp )

add_library( ${LIB_NAME} SHARED 
    ${SOURCES}
    ${HEADERS}
)

add_executable( ${EXE_NAME} ${SOURCE_DIR} ${HEADERS} )

target_link_libraries( ${EXE_NAME} ${LIB_NAME})

install( TARGETS ${EXE_NAME} 
    DESTINATION ${CMAKE_INSTALL_PREFIX}/bin 
    COMPONENT binary )